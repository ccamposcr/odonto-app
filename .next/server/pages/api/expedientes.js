"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/expedientes";
exports.ids = ["pages/api/expedientes"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexpedientes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fexpedientes%2Findex.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexpedientes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fexpedientes%2Findex.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_expedientes_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/expedientes/index.js */ \"(api)/./pages/api/expedientes/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_expedientes_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_expedientes_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/expedientes\",\n        pathname: \"/api/expedientes\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_expedientes_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmV4cGVkaWVudGVzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZleHBlZGllbnRlcyUyRmluZGV4LmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzZEO0FBQzdEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw0REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsNERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2RvbnRvLWFwcC8/YTQ2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2V4cGVkaWVudGVzL2luZGV4LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZXhwZWRpZW50ZXNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9leHBlZGllbnRlc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexpedientes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fexpedientes%2Findex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/database.js":
/*!*************************!*\
  !*** ./lib/database.js ***!
  \*************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst Database = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\nconst path = __webpack_require__(/*! path */ \"path\");\nlet db;\nfunction initDatabase() {\n    if (db) return db;\n    db = new Database(path.join(process.cwd(), \"expedientes.db\"));\n    db.exec(`\n    CREATE TABLE IF NOT EXISTS expedientes (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      cedula TEXT UNIQUE NOT NULL,\n      paciente TEXT NOT NULL,\n      encargado TEXT,\n      fecha_nacimiento DATE,\n      edad INTEGER,\n      sexo TEXT,\n      telefono TEXT,\n      direccion TEXT,\n      contacto_emergencia TEXT,\n      email TEXT,\n      problemas_cardiacos BOOLEAN DEFAULT 0,\n      enfermedades_rinon BOOLEAN DEFAULT 0,\n      enfermedades_higado BOOLEAN DEFAULT 0,\n      diabetes BOOLEAN DEFAULT 0,\n      hipertension BOOLEAN DEFAULT 0,\n      epilepsia BOOLEAN DEFAULT 0,\n      problemas_nerviosos BOOLEAN DEFAULT 0,\n      problemas_hemorragicos BOOLEAN DEFAULT 0,\n      tomando_medicamentos BOOLEAN DEFAULT 0,\n      alergia_medicamento BOOLEAN DEFAULT 0,\n      alergia_anestesia_dental BOOLEAN DEFAULT 0,\n      embarazada BOOLEAN DEFAULT 0,\n      problemas_tratamiento_dental BOOLEAN DEFAULT 0,\n      firma_paciente TEXT,\n      odontogram_data TEXT,\n      archivado BOOLEAN DEFAULT 0,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n    \n    CREATE TABLE IF NOT EXISTS tratamientos (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      expediente_id INTEGER NOT NULL,\n      fecha DATE,\n      pieza TEXT,\n      tratamiento_ejecutado TEXT,\n      firma TEXT,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      FOREIGN KEY (expediente_id) REFERENCES expedientes (id)\n    );\n    \n    CREATE TABLE IF NOT EXISTS superficies_dentales (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      expediente_id INTEGER NOT NULL,\n      diente INTEGER NOT NULL,\n      superficie TEXT NOT NULL,\n      condicion TEXT NOT NULL,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n      FOREIGN KEY (expediente_id) REFERENCES expedientes (id),\n      UNIQUE(expediente_id, diente, superficie)\n    );\n    \n    CREATE TRIGGER IF NOT EXISTS update_expedientes_timestamp \n    AFTER UPDATE ON expedientes \n    BEGIN\n      UPDATE expedientes SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;\n    END;\n  `);\n    return db;\n}\nmodule.exports = {\n    initDatabase\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGF0YWJhc2UuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLFdBQVdDLG1CQUFPQSxDQUFDO0FBQ3pCLE1BQU1DLE9BQU9ELG1CQUFPQSxDQUFDO0FBRXJCLElBQUlFO0FBRUosU0FBU0M7SUFDUCxJQUFJRCxJQUFJLE9BQU9BO0lBRWZBLEtBQUssSUFBSUgsU0FBU0UsS0FBS0csSUFBSSxDQUFDQyxRQUFRQyxHQUFHLElBQUk7SUFFM0NKLEdBQUdLLElBQUksQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBNkRULENBQUM7SUFFRCxPQUFPTDtBQUNUO0FBRUFNLE9BQU9DLE9BQU8sR0FBRztJQUFFTjtBQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2RvbnRvLWFwcC8uL2xpYi9kYXRhYmFzZS5qcz9lZWE1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERhdGFiYXNlID0gcmVxdWlyZSgnYmV0dGVyLXNxbGl0ZTMnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmxldCBkYjtcblxuZnVuY3Rpb24gaW5pdERhdGFiYXNlKCkge1xuICBpZiAoZGIpIHJldHVybiBkYjtcbiAgXG4gIGRiID0gbmV3IERhdGFiYXNlKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZXhwZWRpZW50ZXMuZGInKSk7XG4gIFxuICBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBleHBlZGllbnRlcyAoXG4gICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICBjZWR1bGEgVEVYVCBVTklRVUUgTk9UIE5VTEwsXG4gICAgICBwYWNpZW50ZSBURVhUIE5PVCBOVUxMLFxuICAgICAgZW5jYXJnYWRvIFRFWFQsXG4gICAgICBmZWNoYV9uYWNpbWllbnRvIERBVEUsXG4gICAgICBlZGFkIElOVEVHRVIsXG4gICAgICBzZXhvIFRFWFQsXG4gICAgICB0ZWxlZm9ubyBURVhULFxuICAgICAgZGlyZWNjaW9uIFRFWFQsXG4gICAgICBjb250YWN0b19lbWVyZ2VuY2lhIFRFWFQsXG4gICAgICBlbWFpbCBURVhULFxuICAgICAgcHJvYmxlbWFzX2NhcmRpYWNvcyBCT09MRUFOIERFRkFVTFQgMCxcbiAgICAgIGVuZmVybWVkYWRlc19yaW5vbiBCT09MRUFOIERFRkFVTFQgMCxcbiAgICAgIGVuZmVybWVkYWRlc19oaWdhZG8gQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICBkaWFiZXRlcyBCT09MRUFOIERFRkFVTFQgMCxcbiAgICAgIGhpcGVydGVuc2lvbiBCT09MRUFOIERFRkFVTFQgMCxcbiAgICAgIGVwaWxlcHNpYSBCT09MRUFOIERFRkFVTFQgMCxcbiAgICAgIHByb2JsZW1hc19uZXJ2aW9zb3MgQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICBwcm9ibGVtYXNfaGVtb3JyYWdpY29zIEJPT0xFQU4gREVGQVVMVCAwLFxuICAgICAgdG9tYW5kb19tZWRpY2FtZW50b3MgQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICBhbGVyZ2lhX21lZGljYW1lbnRvIEJPT0xFQU4gREVGQVVMVCAwLFxuICAgICAgYWxlcmdpYV9hbmVzdGVzaWFfZGVudGFsIEJPT0xFQU4gREVGQVVMVCAwLFxuICAgICAgZW1iYXJhemFkYSBCT09MRUFOIERFRkFVTFQgMCxcbiAgICAgIHByb2JsZW1hc190cmF0YW1pZW50b19kZW50YWwgQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICBmaXJtYV9wYWNpZW50ZSBURVhULFxuICAgICAgb2RvbnRvZ3JhbV9kYXRhIFRFWFQsXG4gICAgICBhcmNoaXZhZG8gQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICBjcmVhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICB1cGRhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICApO1xuICAgIFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHRyYXRhbWllbnRvcyAoXG4gICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICBleHBlZGllbnRlX2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICBmZWNoYSBEQVRFLFxuICAgICAgcGllemEgVEVYVCxcbiAgICAgIHRyYXRhbWllbnRvX2VqZWN1dGFkbyBURVhULFxuICAgICAgZmlybWEgVEVYVCxcbiAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgIEZPUkVJR04gS0VZIChleHBlZGllbnRlX2lkKSBSRUZFUkVOQ0VTIGV4cGVkaWVudGVzIChpZClcbiAgICApO1xuICAgIFxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHN1cGVyZmljaWVzX2RlbnRhbGVzIChcbiAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICAgIGV4cGVkaWVudGVfaWQgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgIGRpZW50ZSBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgc3VwZXJmaWNpZSBURVhUIE5PVCBOVUxMLFxuICAgICAgY29uZGljaW9uIFRFWFQgTk9UIE5VTEwsXG4gICAgICBjcmVhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICB1cGRhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICBGT1JFSUdOIEtFWSAoZXhwZWRpZW50ZV9pZCkgUkVGRVJFTkNFUyBleHBlZGllbnRlcyAoaWQpLFxuICAgICAgVU5JUVVFKGV4cGVkaWVudGVfaWQsIGRpZW50ZSwgc3VwZXJmaWNpZSlcbiAgICApO1xuICAgIFxuICAgIENSRUFURSBUUklHR0VSIElGIE5PVCBFWElTVFMgdXBkYXRlX2V4cGVkaWVudGVzX3RpbWVzdGFtcCBcbiAgICBBRlRFUiBVUERBVEUgT04gZXhwZWRpZW50ZXMgXG4gICAgQkVHSU5cbiAgICAgIFVQREFURSBleHBlZGllbnRlcyBTRVQgdXBkYXRlZF9hdCA9IENVUlJFTlRfVElNRVNUQU1QIFdIRVJFIGlkID0gTkVXLmlkO1xuICAgIEVORDtcbiAgYCk7XG4gIFxuICByZXR1cm4gZGI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBpbml0RGF0YWJhc2UgfTsiXSwibmFtZXMiOlsiRGF0YWJhc2UiLCJyZXF1aXJlIiwicGF0aCIsImRiIiwiaW5pdERhdGFiYXNlIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJleGVjIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/database.js\n");

/***/ }),

/***/ "(api)/./pages/api/expedientes/index.js":
/*!****************************************!*\
  !*** ./pages/api/expedientes/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/database */ \"(api)/./lib/database.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lib_database__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function handler(req, res) {\n    const { method } = req;\n    try {\n        if (method === \"GET\") {\n            const db = (0,_lib_database__WEBPACK_IMPORTED_MODULE_0__.initDatabase)();\n            const expedientes = db.prepare(`\n        SELECT * FROM expedientes \n        ORDER BY created_at DESC\n      `).all();\n            return res.status(200).json(expedientes);\n        }\n        if (method === \"POST\") {\n            const data = req.body;\n            const db = (0,_lib_database__WEBPACK_IMPORTED_MODULE_0__.initDatabase)();\n            const { tratamientos, ...expedienteData } = data;\n            const stmt = db.prepare(`\n        INSERT INTO expedientes (\n          cedula, paciente, encargado, fecha_nacimiento, edad, sexo, \n          telefono, direccion, contacto_emergencia, email,\n          problemas_cardiacos, enfermedades_rinon, enfermedades_higado, \n          diabetes, hipertension, epilepsia, problemas_nerviosos,\n          problemas_hemorragicos, tomando_medicamentos, alergia_medicamento,\n          alergia_anestesia_dental, embarazada, problemas_tratamiento_dental,\n          firma_paciente, odontogram_data\n        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n            const result = stmt.run(expedienteData.cedula?.toString().trim(), expedienteData.paciente?.toString().trim(), expedienteData.encargado?.toString().trim() || null, expedienteData.fecha_nacimiento || null, expedienteData.edad || null, expedienteData.sexo || null, expedienteData.telefono?.toString().trim() || null, expedienteData.direccion?.toString().trim() || null, expedienteData.contacto_emergencia?.toString().trim() || null, expedienteData.email?.toString().trim() || null, expedienteData.problemas_cardiacos ? 1 : 0, expedienteData.enfermedades_rinon ? 1 : 0, expedienteData.enfermedades_higado ? 1 : 0, expedienteData.diabetes ? 1 : 0, expedienteData.hipertension ? 1 : 0, expedienteData.epilepsia ? 1 : 0, expedienteData.problemas_nerviosos ? 1 : 0, expedienteData.problemas_hemorragicos ? 1 : 0, expedienteData.tomando_medicamentos ? 1 : 0, expedienteData.alergia_medicamento ? 1 : 0, expedienteData.alergia_anestesia_dental ? 1 : 0, expedienteData.embarazada ? 1 : 0, expedienteData.problemas_tratamiento_dental ? 1 : 0, expedienteData.firma_paciente || null, expedienteData.odontogram_data || \"{}\");\n            const expedienteId = result.lastInsertRowid;\n            // Save treatments\n            if (tratamientos && tratamientos.length > 0) {\n                const treatmentStmt = db.prepare(`\n          INSERT INTO tratamientos (expediente_id, fecha, pieza, tratamiento_ejecutado, firma)\n          VALUES (?, ?, ?, ?, ?)\n        `);\n                for (const treatment of tratamientos){\n                    if (treatment.fecha || treatment.pieza || treatment.tratamiento_ejecutado) {\n                        treatmentStmt.run(expedienteId, treatment.fecha || null, treatment.pieza || null, treatment.tratamiento_ejecutado || null, treatment.firma || null);\n                    }\n                }\n            }\n            // Save dental surface data for reporting\n            if (expedienteData.odontogram_data) {\n                try {\n                    const odontogramData = typeof expedienteData.odontogram_data === \"string\" ? JSON.parse(expedienteData.odontogram_data) : expedienteData.odontogram_data;\n                    if (odontogramData.toothStates) {\n                        const surfaceStmt = db.prepare(`\n              INSERT OR REPLACE INTO superficies_dentales (expediente_id, diente, superficie, condicion, updated_at)\n              VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)\n            `);\n                        for (const [diente, superficies] of Object.entries(odontogramData.toothStates)){\n                            if (typeof superficies === \"object\" && superficies !== null) {\n                                for (const [superficie, condicion] of Object.entries(superficies)){\n                                    if (condicion && condicion !== \"normal\") {\n                                        surfaceStmt.run(expedienteId, parseInt(diente), superficie, condicion);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error saving dental surface data:\", error);\n                }\n            }\n            return res.status(200).json({\n                id: expedienteId,\n                message: \"Expediente created successfully\"\n            });\n        }\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    } catch (error) {\n        console.error(\"Error in expedientes API:\", error);\n        if (error.code === \"SQLITE_CONSTRAINT_UNIQUE\") {\n            return res.status(400).json({\n                error: \"Ya existe un expediente con esta c\\xe9dula\"\n            });\n        }\n        return res.status(500).json({\n            error: \"Error processing request\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXguanM/YTRiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0RGF0YWJhc2UgfSBmcm9tICcuLi8uLi8uLi9saWIvZGF0YWJhc2UnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgbWV0aG9kIH0gPSByZXE7XG5cbiAgdHJ5IHtcbiAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgY29uc3QgZGIgPSBpbml0RGF0YWJhc2UoKTtcbiAgICAgIGNvbnN0IGV4cGVkaWVudGVzID0gZGIucHJlcGFyZShgXG4gICAgICAgIFNFTEVDVCAqIEZST00gZXhwZWRpZW50ZXMgXG4gICAgICAgIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQ1xuICAgICAgYCkuYWxsKCk7XG4gICAgICBcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihleHBlZGllbnRlcyk7XG4gICAgfVxuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBkYiA9IGluaXREYXRhYmFzZSgpO1xuICAgICAgXG4gICAgICBjb25zdCB7IHRyYXRhbWllbnRvcywgLi4uZXhwZWRpZW50ZURhdGEgfSA9IGRhdGE7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0bXQgPSBkYi5wcmVwYXJlKGBcbiAgICAgICAgSU5TRVJUIElOVE8gZXhwZWRpZW50ZXMgKFxuICAgICAgICAgIGNlZHVsYSwgcGFjaWVudGUsIGVuY2FyZ2FkbywgZmVjaGFfbmFjaW1pZW50bywgZWRhZCwgc2V4bywgXG4gICAgICAgICAgdGVsZWZvbm8sIGRpcmVjY2lvbiwgY29udGFjdG9fZW1lcmdlbmNpYSwgZW1haWwsXG4gICAgICAgICAgcHJvYmxlbWFzX2NhcmRpYWNvcywgZW5mZXJtZWRhZGVzX3Jpbm9uLCBlbmZlcm1lZGFkZXNfaGlnYWRvLCBcbiAgICAgICAgICBkaWFiZXRlcywgaGlwZXJ0ZW5zaW9uLCBlcGlsZXBzaWEsIHByb2JsZW1hc19uZXJ2aW9zb3MsXG4gICAgICAgICAgcHJvYmxlbWFzX2hlbW9ycmFnaWNvcywgdG9tYW5kb19tZWRpY2FtZW50b3MsIGFsZXJnaWFfbWVkaWNhbWVudG8sXG4gICAgICAgICAgYWxlcmdpYV9hbmVzdGVzaWFfZGVudGFsLCBlbWJhcmF6YWRhLCBwcm9ibGVtYXNfdHJhdGFtaWVudG9fZGVudGFsLFxuICAgICAgICAgIGZpcm1hX3BhY2llbnRlLCBvZG9udG9ncmFtX2RhdGFcbiAgICAgICAgKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8sID8pXG4gICAgICBgKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4oXG4gICAgICAgIGV4cGVkaWVudGVEYXRhLmNlZHVsYT8udG9TdHJpbmcoKS50cmltKCksXG4gICAgICAgIGV4cGVkaWVudGVEYXRhLnBhY2llbnRlPy50b1N0cmluZygpLnRyaW0oKSxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEuZW5jYXJnYWRvPy50b1N0cmluZygpLnRyaW0oKSB8fCBudWxsLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5mZWNoYV9uYWNpbWllbnRvIHx8IG51bGwsXG4gICAgICAgIGV4cGVkaWVudGVEYXRhLmVkYWQgfHwgbnVsbCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEuc2V4byB8fCBudWxsLFxuICAgICAgICBleHBlZGllbnRlRGF0YS50ZWxlZm9ubz8udG9TdHJpbmcoKS50cmltKCkgfHwgbnVsbCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEuZGlyZWNjaW9uPy50b1N0cmluZygpLnRyaW0oKSB8fCBudWxsLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5jb250YWN0b19lbWVyZ2VuY2lhPy50b1N0cmluZygpLnRyaW0oKSB8fCBudWxsLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5lbWFpbD8udG9TdHJpbmcoKS50cmltKCkgfHwgbnVsbCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEucHJvYmxlbWFzX2NhcmRpYWNvcyA/IDEgOiAwLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5lbmZlcm1lZGFkZXNfcmlub24gPyAxIDogMCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEuZW5mZXJtZWRhZGVzX2hpZ2FkbyA/IDEgOiAwLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5kaWFiZXRlcyA/IDEgOiAwLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5oaXBlcnRlbnNpb24gPyAxIDogMCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEuZXBpbGVwc2lhID8gMSA6IDAsXG4gICAgICAgIGV4cGVkaWVudGVEYXRhLnByb2JsZW1hc19uZXJ2aW9zb3MgPyAxIDogMCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEucHJvYmxlbWFzX2hlbW9ycmFnaWNvcyA/IDEgOiAwLFxuICAgICAgICBleHBlZGllbnRlRGF0YS50b21hbmRvX21lZGljYW1lbnRvcyA/IDEgOiAwLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5hbGVyZ2lhX21lZGljYW1lbnRvID8gMSA6IDAsXG4gICAgICAgIGV4cGVkaWVudGVEYXRhLmFsZXJnaWFfYW5lc3Rlc2lhX2RlbnRhbCA/IDEgOiAwLFxuICAgICAgICBleHBlZGllbnRlRGF0YS5lbWJhcmF6YWRhID8gMSA6IDAsXG4gICAgICAgIGV4cGVkaWVudGVEYXRhLnByb2JsZW1hc190cmF0YW1pZW50b19kZW50YWwgPyAxIDogMCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEuZmlybWFfcGFjaWVudGUgfHwgbnVsbCxcbiAgICAgICAgZXhwZWRpZW50ZURhdGEub2RvbnRvZ3JhbV9kYXRhIHx8ICd7fSdcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGV4cGVkaWVudGVJZCA9IHJlc3VsdC5sYXN0SW5zZXJ0Um93aWQ7XG5cbiAgICAgIC8vIFNhdmUgdHJlYXRtZW50c1xuICAgICAgaWYgKHRyYXRhbWllbnRvcyAmJiB0cmF0YW1pZW50b3MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB0cmVhdG1lbnRTdG10ID0gZGIucHJlcGFyZShgXG4gICAgICAgICAgSU5TRVJUIElOVE8gdHJhdGFtaWVudG9zIChleHBlZGllbnRlX2lkLCBmZWNoYSwgcGllemEsIHRyYXRhbWllbnRvX2VqZWN1dGFkbywgZmlybWEpXG4gICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxuICAgICAgICBgKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgdHJlYXRtZW50IG9mIHRyYXRhbWllbnRvcykge1xuICAgICAgICAgIGlmICh0cmVhdG1lbnQuZmVjaGEgfHwgdHJlYXRtZW50LnBpZXphIHx8IHRyZWF0bWVudC50cmF0YW1pZW50b19lamVjdXRhZG8pIHtcbiAgICAgICAgICAgIHRyZWF0bWVudFN0bXQucnVuKFxuICAgICAgICAgICAgICBleHBlZGllbnRlSWQsXG4gICAgICAgICAgICAgIHRyZWF0bWVudC5mZWNoYSB8fCBudWxsLFxuICAgICAgICAgICAgICB0cmVhdG1lbnQucGllemEgfHwgbnVsbCxcbiAgICAgICAgICAgICAgdHJlYXRtZW50LnRyYXRhbWllbnRvX2VqZWN1dGFkbyB8fCBudWxsLFxuICAgICAgICAgICAgICB0cmVhdG1lbnQuZmlybWEgfHwgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2F2ZSBkZW50YWwgc3VyZmFjZSBkYXRhIGZvciByZXBvcnRpbmdcbiAgICAgIGlmIChleHBlZGllbnRlRGF0YS5vZG9udG9ncmFtX2RhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBvZG9udG9ncmFtRGF0YSA9IHR5cGVvZiBleHBlZGllbnRlRGF0YS5vZG9udG9ncmFtX2RhdGEgPT09ICdzdHJpbmcnIFxuICAgICAgICAgICAgPyBKU09OLnBhcnNlKGV4cGVkaWVudGVEYXRhLm9kb250b2dyYW1fZGF0YSkgXG4gICAgICAgICAgICA6IGV4cGVkaWVudGVEYXRhLm9kb250b2dyYW1fZGF0YTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAob2RvbnRvZ3JhbURhdGEudG9vdGhTdGF0ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cmZhY2VTdG10ID0gZGIucHJlcGFyZShgXG4gICAgICAgICAgICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gc3VwZXJmaWNpZXNfZGVudGFsZXMgKGV4cGVkaWVudGVfaWQsIGRpZW50ZSwgc3VwZXJmaWNpZSwgY29uZGljaW9uLCB1cGRhdGVkX2F0KVxuICAgICAgICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sIENVUlJFTlRfVElNRVNUQU1QKVxuICAgICAgICAgICAgYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2RpZW50ZSwgc3VwZXJmaWNpZXNdIG9mIE9iamVjdC5lbnRyaWVzKG9kb250b2dyYW1EYXRhLnRvb3RoU3RhdGVzKSkge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHN1cGVyZmljaWVzID09PSAnb2JqZWN0JyAmJiBzdXBlcmZpY2llcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3N1cGVyZmljaWUsIGNvbmRpY2lvbl0gb2YgT2JqZWN0LmVudHJpZXMoc3VwZXJmaWNpZXMpKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY29uZGljaW9uICYmIGNvbmRpY2lvbiAhPT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VyZmFjZVN0bXQucnVuKGV4cGVkaWVudGVJZCwgcGFyc2VJbnQoZGllbnRlKSwgc3VwZXJmaWNpZSwgY29uZGljaW9uKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGRlbnRhbCBzdXJmYWNlIGRhdGE6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgICBpZDogZXhwZWRpZW50ZUlkLCBcbiAgICAgICAgbWVzc2FnZTogJ0V4cGVkaWVudGUgY3JlYXRlZCBzdWNjZXNzZnVsbHknIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGV4cGVkaWVudGVzIEFQSTonLCBlcnJvcik7XG4gICAgaWYgKGVycm9yLmNvZGUgPT09ICdTUUxJVEVfQ09OU1RSQUlOVF9VTklRVUUnKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1lhIGV4aXN0ZSB1biBleHBlZGllbnRlIGNvbiBlc3RhIGPDqWR1bGEnIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIHByb2Nlc3NpbmcgcmVxdWVzdCcgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiaW5pdERhdGFiYXNlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsImRiIiwiZXhwZWRpZW50ZXMiLCJwcmVwYXJlIiwiYWxsIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJib2R5IiwidHJhdGFtaWVudG9zIiwiZXhwZWRpZW50ZURhdGEiLCJzdG10IiwicmVzdWx0IiwicnVuIiwiY2VkdWxhIiwidG9TdHJpbmciLCJ0cmltIiwicGFjaWVudGUiLCJlbmNhcmdhZG8iLCJmZWNoYV9uYWNpbWllbnRvIiwiZWRhZCIsInNleG8iLCJ0ZWxlZm9ubyIsImRpcmVjY2lvbiIsImNvbnRhY3RvX2VtZXJnZW5jaWEiLCJlbWFpbCIsInByb2JsZW1hc19jYXJkaWFjb3MiLCJlbmZlcm1lZGFkZXNfcmlub24iLCJlbmZlcm1lZGFkZXNfaGlnYWRvIiwiZGlhYmV0ZXMiLCJoaXBlcnRlbnNpb24iLCJlcGlsZXBzaWEiLCJwcm9ibGVtYXNfbmVydmlvc29zIiwicHJvYmxlbWFzX2hlbW9ycmFnaWNvcyIsInRvbWFuZG9fbWVkaWNhbWVudG9zIiwiYWxlcmdpYV9tZWRpY2FtZW50byIsImFsZXJnaWFfYW5lc3Rlc2lhX2RlbnRhbCIsImVtYmFyYXphZGEiLCJwcm9ibGVtYXNfdHJhdGFtaWVudG9fZGVudGFsIiwiZmlybWFfcGFjaWVudGUiLCJvZG9udG9ncmFtX2RhdGEiLCJleHBlZGllbnRlSWQiLCJsYXN0SW5zZXJ0Um93aWQiLCJsZW5ndGgiLCJ0cmVhdG1lbnRTdG10IiwidHJlYXRtZW50IiwiZmVjaGEiLCJwaWV6YSIsInRyYXRhbWllbnRvX2VqZWN1dGFkbyIsImZpcm1hIiwib2RvbnRvZ3JhbURhdGEiLCJKU09OIiwicGFyc2UiLCJ0b290aFN0YXRlcyIsInN1cmZhY2VTdG10IiwiZGllbnRlIiwic3VwZXJmaWNpZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwic3VwZXJmaWNpZSIsImNvbmRpY2lvbiIsInBhcnNlSW50IiwiZXJyb3IiLCJjb25zb2xlIiwiaWQiLCJtZXNzYWdlIiwiY29kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/expedientes/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexpedientes&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fexpedientes%2Findex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();